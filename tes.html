<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta content='no-referrer' name='referrer'/>
<title>Clappr Player</title>
<script src="https://cdn.jsdelivr.net/clappr/latest/clappr.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/clappr/dash-shaka-playback@latest/dist/dash-shaka-playback.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clappr-chromecast-plugin@latest/dist/clappr-chromecast-plugin.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/clappr/clappr-level-selector-plugin@latest/dist/level-selector.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clappr-pip-plugin@latest/dist/clappr-pip-plugin.js"></script>
<style>
body,
html {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #000;
}

#player {
    width: 100%;
    height: 100%;
}
</style>
</head>

<body>
<div id="player"></div>

<script type="text/javascript">
function getQueryParam(param) {
var urlParams = new URLSearchParams(window.location.search);
return urlParams.get(param);
}

var sourceURL = getQueryParam('video') || ''; // Ganti dengan URL default Anda
var posterURL = getQueryParam('poster') || ''; // Ganti dengan URL default poster jika ada
var watermarkURL = getQueryParam('watermark') || ''; // Ganti dengan URL default watermark jika ada

var player = new Clappr.Player({
    source: sourceURL,
    height: '100%',
    width: '100%',
    poster: posterURL,
    watermark: watermarkURL,
    position: 'bottom-right',
    autoPlay: true,
    mediacontrol: {
        seekbar: "#ffffff",
        buttons: "#ffffff",
    },
    plugins: [DashShakaPlayback, LevelSelector, ChromecastPlugin, ClapprPIPPlugin],
    chromecast: {
        appId: '9DFB77C0',
        contentType: 'video/mp4',
    },
    parentId: '#player',
    events: {
        onError: function(e) {
            console.error("Error occurred: ", e);
        },
        onPlay: function() {
            console.log("Playing");
        },
        onPause: function() {
            console.log("Paused");
        },
        onEnded: function() {
            console.log("Video ended");
        },
        onTimeUpdate: function(currentTime) {
            console.log("Current time: ", currentTime);
        }
    }
});
</script>
</body>

</html>
